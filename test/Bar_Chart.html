<html>
<head>
    <meta name="x-cat-tags" content="anyMap"/>
    <meta charset="UTF-8"/>
    <meta name="tags" content="['map']"/>
    <meta name="index" content="1000"/>
    <meta name="is-new" content="false"/>
    <script src="https://cdn.anychart.com/samples-data/maps-projections/countries-by-population-with-august-projection/data.js"
            data-export="true"></script>
    <script src="../../anychart-base.min.js"></script>
	<script src="../../anychart-map.min.js"></script>
	<script src="../../anychart-ui.min.js"></script>
    <script src="https://cdn.anychart.com/geodata/1.2.0/custom/world_source/world_source.js"
            data-export="true"></script>

    <link rel="stylesheet" href="https://cdn.anychart.com/fonts/2.7.3/anychart.css"/>
    <script x-export="map">
        anychart.onDocumentReady(function () {
            map = anychart.map();

            map.credits()
                    .enabled(true)
                    .url('https://en.wikipedia.org/wiki/List_of_sovereign_states_and_dependent_territories_by_population_density')
                    .text('Data source: https://en.wikipedia.org/wiki/List_of_sovereign_states_and_dependent_territories_by_population_density')
                    .logoSrc('https://en.wikipedia.org/static/favicon/wikipedia.ico');

            map.title()
                    .enabled(true)
                    .useHtml(true)
                    .padding([10, 0, 10, 0])
                    .text('Countries by Population<br/><span  style="color:#929292; font-size: 12px;">' +
                            '(Data was collected from Wikipedia, 2015)</span>');

            map.geoData('anychart.maps.world_source');

            // sets projection
            map.crs('august')
                    .padding(0);

            map.interactivity().selectionMode(false);

            // The data used in this sample can be obtained from the CDN
            // https://cdn.anychart.com/samples-data/maps-projections/countries-by-population-with-august-projection/data.js
            var dataSet = anychart.data.set(getData());
            var density_data = dataSet.mapAs(undefined, {'value': 'population'});
            var series = map.choropleth(density_data);
            series.stroke('"#eceff1"');
            series.tooltip()
                    .useHtml(true)
                    .format(function () {
                        return '<span style="color: #d9d9d9">Density</span>: ' +
                                parseFloat(this.getData('density')).toLocaleString() + ' people per km&#178 <br/>' +
                                '<span style="color: #d9d9d9">Population</span>: ' +
                                parseInt(this.getData('population')).toLocaleString() + '<br/>' +
                                '<span style="color: #d9d9d9">Area</span>: ' +
                                parseInt(this.getData('area')).toLocaleString() + ' km&#178';
                    });
            series.colorScale(anychart.scales.linearColor("#a9e1d4", "#207fbf"));
            map.colorRange().enabled(true);
            map.colorRange().labels().format(function () {
                return anychart.format.number(this.value, {
                    groupsSeparator: ',',
                    scale: true,
                    zeroFillDecimals: true
                })
            });

            // create zoom controls
            var zoomController = anychart.ui.zoom();
            zoomController.render(map);

            // Sets container id for the chart
            map.container('container');
            // Initiates chart drawing
            map.draw();
        });
    </script>
    <link rel="stylesheet" href="../../anychart-ui.min.css">
</head>
<body>
<div id="container" style="width: 100%; height: 100%"></div>
</body>
</html>
